trigger:
  branches:
    include:
      - main
  paths:
    include:
      - Framework/Microservices/CodeExecution
      # FIXME: Migrate back to `/python-service-deployment-template-insecure.yml`
      # if using container-based execution.
      - /python-service-deployment-template.yml
      - /HelmCharts/plain-app-chart

pool:
  vmImage: 'windows-latest'

extends:
  template: /python-service-deployment-template.yml
  parameters:
    solutionName: CodeExecution
    pathToFolder: Framework/Microservices
    releaseName: codeexecutionmicroservice
    buildContext: Framework/Microservices/CodeExecution
    secureYml: mycai-codexecution-values.yml


---------------=====================================================================================


trigger:
  branches:
    include:
      - main
  paths:
    include:
      - /Apps/Maestro/Microservices/DataCollections
      - /service-deployment-template.yml
      - /HelmCharts/plain-app-chart

pool:
  vmImage: 'windows-latest'

extends:
  template: /service-deployment-template.yml
  parameters:
    solutionName: DataCollections
    pathToSolutionFolder: Apps/Maestro/Microservices
    releaseName: datacollectionsmicroservice
    buildContext: Apps/Maestro/Microservices/DataCollections
    secureYml: mycai-dataCollections-values.yml

======================================================================

trigger:
  branches:
    include:
      - main
  paths:
    include:
      - /Apps/Maestro/Microservices/Chats
      - /service-deployment-template.yml
      - /HelmCharts/plain-app-chart

pool:
  vmImage: 'windows-latest'

extends:
  template: /service-deployment-template.yml
  parameters:
    solutionName: Chats
    pathToSolutionFolder: Apps/Maestro/Microservices
    releaseName: chatsmicroservice
    buildContext: Apps/Maestro/Microservices/Chats
    secureYml: mycai-chats-values.yml

